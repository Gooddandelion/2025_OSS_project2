<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>22100324's form1</title>
  <style>
  :root{
    --bg: #0f1115;          /* 전체 배경 */
    --card: #1b1f26;        /* 폼 카드 */
    --card-2:#1f2430;
    --line:#2a2f39;         /* 테두리 */
    --text:#e7e9ee;         /* 본문 텍스트 */
    --sub:#9aa3b2;          /* 서브 텍스트 */
    --muted:#6b7280;        /* 플레이스홀더 */
    --green:#03c75a;        /* NAVER 그린 */
    --green-2:#11d368;
    --danger:#000000;
    --focus:#3b82f6;        /* 포커스 보더 */
    --radius:12px;
    --gap:14px;
    --input-h:52px;
    --shadow: 0 10px 30px rgba(0,0,0,.35);
  }

  /* 기본 리셋 & 타이포 */
  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0; background:var(--bg); color:var(--text);
    font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Noto Sans KR, Apple SD Gothic Neo, sans-serif;
    -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  }
  a{ color:inherit; text-decoration:none; }

  /* 레이아웃 */
  .inner{
    max-width: 980px; margin: 48px auto; padding: 0 20px;
  }
  .logo{ margin: 0 0 28px 0; }
  .logo .link{
    display:inline-block; font-weight: 800; letter-spacing:.5px;
    color: var(--green); font-size: 34px; font: Arial;
  }

  /* 카드 */
  .content{
    display:flex; justify-content:center;
  }
  .form{
    width: 520px;
    background: var(--card);
    border: 1px solid var(--line);
    border-radius: 16px;
    padding: 22px;
    box-shadow: var(--shadow);
  }
  .form_section{ display:grid; gap:22px; }
  .form_list{ display:grid; gap: var(--gap); }

  /* 토글(실명 인증된 아이디로 가입) */
  .join_toggle{
    display:flex; align-items:center; gap:10px; color:var(--sub);
  }
  .join_toggle input[type="checkbox"]{
    appearance:none; width:22px; height:22px; border-radius:6px;
    border:1.5px solid var(--line); background:var(--card-2); position:relative; cursor:pointer;
  }
  .join_toggle input[type="checkbox"]:checked{
    border-color:var(--green); background:rgba(3,199,90,.15);
  }
  .join_toggle input[type="checkbox"]:checked::after{
    content:""; position:absolute; inset:4px;
    background: var(--green); clip-path: polygon(14% 54%, 0 68%, 36% 100%, 100% 28%, 86% 14%, 36% 76%);
    border-radius:2px;
  }

  /* 입력 공통 */
  .form_item{ display:grid; gap:8px; }
  label{ color:#cbd5e1; font-size:14px; }
  input.input, select.input, textarea.input{
    width:100%; height: var(--input-h);
    color: var(--text); background: var(--card-2);
    border:1px solid var(--line); border-radius: var(--radius);
    padding: 0 14px; outline: none;
    transition: border-color .15s ease, box-shadow .15s ease, background .15s ease;
  }
  textarea.input{ min-height:120px; padding:12px 14px; resize: vertical; }
  input::placeholder, textarea::placeholder{ color:var(--muted); }

  input.input:focus, select.input:focus, textarea.input:focus{
    border-color: var(--green);
    box-shadow: 0 0 0 3px rgba(3,199,90,.18);
  }

  /* @naver.com 뱃지 */
  #divId .id_naver{
    margin-left:8px; padding:6px 10px; border-radius:10px;
    background:#12151b; border:1px solid var(--line); color:#9fb0c3; white-space:nowrap; font-size:13px;
  }
  #divId > div{ display:flex; align-items:center; }

  /* 비밀번호 보조 UI */
  .password_info{ color:var(--sub); }
  #btnTogglePw{
    appearance:none; border:1px solid var(--line); background: var(--card-2);
    color:#b9c3d4; border-radius:10px; padding:6px 10px; cursor:pointer;
    transition: background .15s ease, border-color .15s ease, color .15s ease;
  }
  #btnTogglePw:hover{ border-color:#3a4250; background:#161a22; color:#e7e9ee; }

  /* 에러 텍스트 */
  .error_text{ color: var(--danger); font-size: 13px; }

  /* select 화살표 커스텀 (웹킷 기준) */
  select.input{
    appearance:none;
    background:
      linear-gradient(180deg, transparent 0%, transparent 70%, rgba(255,255,255,.05) 100%),
      var(--card-2);
    background-image:
      linear-gradient(180deg, transparent 0%, transparent 70%, rgba(255,255,255,.05) 100%),
      var(--card-2),
      url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' viewBox='0 0 24 24' fill='none' stroke='%239aa3b2' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E");
    background-repeat:no-repeat;
    background-position: right 12px center;
    padding-right: 44px;
  }

  /* 라디오: 성별 / 내외국인 → 세그먼트 버튼화 */
  .adult_list{ list-style:none; padding:0; margin:0; display:flex; gap:10px; }
  .adult_list .radio input[type="radio"]{
    position:absolute; opacity:0; pointer-events:none;
  }
  .adult_list .radio label{
    display:inline-flex; align-items:center; justify-content:center;
    min-width: 90px; height: 44px; padding:0 14px; cursor:pointer;
    border:1px solid var(--line); border-radius:10px; color:#cbd5e1;
    background: var(--card-2); transition:all .15s ease;
  }
  .adult_list .radio input[type="radio"]:checked + label{
    border-color: var(--green); color:#0b1f13; background: rgba(3,199,90,.9);
    font-weight:700;
  }
  .adult_list .radio label:hover{
    border-color:#3a4250; background:#161a22;
  }

  /* 버튼 */
  .btn_submit{
    width:100%; height:56px; margin-top:6px;
    border:0; border-radius: 14px; background: var(--green);
    color:#072d18; font-weight:800; letter-spacing:.2px; font-size:18px; cursor:pointer;
    transition: transform .06s ease, background .15s ease, box-shadow .15s ease;
    box-shadow: 0 8px 24px rgba(3,199,90,.25);
  }
  .btn_submit:hover{ background: var(--green-2); }
  .btn_submit:active{ transform: translateY(1px); }

  /* 시각 숨김 */
  .blind{
    position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
    overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
  }

  /* 반응형 */
  @media (max-width: 560px){
    .form{ width:100%; padding:16px; }
    .logo .link{ font-size:28px; }
    .adult_list .radio label{ min-width: 0; flex:1; }
  }
</style>

</head>
<body class="bg-light">
  <div class="inner">
    <h1 class="logo naver">
      <a href="https://naver.com" class="link">NAVER</a>
    </h1>

    <div class="content">
      <!-- 폼 시작 -->
      <form id="join_form" method="get" action="/user2/join/end" class="form" novalidate>
        <!-- 서버가 사용하는 hidden 값들 -->
        <input type="hidden" id="token_sjoin" name="token_sjoin" value="kGSybP2tYlcV3yt0">
        <input type="hidden" id="nid_kb2" name="nid_kb2" value="">
        <input type="hidden" id="joinMode" name="joinMode" value="joinIdentity">
        <input type="hidden" id="encPswd" name="encPswd" value="">
        <input type="hidden" id="enckey" name="enckey" value="">
        <input type="hidden" id="telecom" name="telecom" value="">
        <input type="hidden" id="birthday" name="birthday" value="">

        <div class="form_content">
          <div class="form_section">
            <div class="join_toggle" id="divToggle">
              <input type="checkbox" id="join_toggle" checked />
              <label for="join_toggle">실명 인증된 아이디로 가입</label>
            </div>

            <div class="form_list">
              <!-- 아이디 -->
              <div class="form_item user" id="divId">
                <label for="id">아이디</label>
                <div style="display:flex; gap:6px; align-items:center;">
                  <input type="text" id="id" name="id" class="input" placeholder="아이디"
                         maxlength="20" autocapitalize="off" required
                         pattern="[a-z0-9][a-z0-9._-]{3,19}"/>
                  <div class="id_naver">@naver.com</div>
                </div>
                <div class="error_text item_style" id="idMsg" style="display:none"></div>
              </div>

              <!-- 비밀번호 -->
              <div class="form_item password" id="divPassword">
                <label for="pswd1">비밀번호</label>
                <input
                    type="password"
                    id="pswd1"
                    name="pswd1"
                    class="input"
                    placeholder="비밀번호"
                    maxlength="20"
                    autocomplete="new-password"
                    required
                    pattern="(?=.*[A-Za-z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}"
                    title="영문, 숫자, 특수문자를 각각 1자 이상 포함해 8자 이상 입력하세요."
                />
                <div class="password_info" style="display:flex; justify-content:space-between; align-items:center;">
                    <em class="how_secure" id="secureLevel" aria-live="polite"></em>
                    <button type="button" class="btn_show" id="btnTogglePw">
                    <span class="blind">비밀번호 보기</span>보기
                    </button>
                </div>
                <div class="error_text item_style" id="pswdMsg" style="display:none"></div>
              </div>

              <!-- 이메일 -->
              <div class="form_item email" id="divEmail">
                <label for="email">[선택] 이메일 주소</label>
                <input type="email" id="email" name="email"
                       placeholder="[선택] 이메일주소 (비밀번호 찾기 등 본인 확인용)"
                       class="input" maxlength="60" />
                <div class="error_text item_style" id="emailMsg" style="display:none"></div>
              </div>
            </div>

            <div class="form_list">
              <!-- 이름 -->
              <div class="form_item user" id="divName">
                <label for="name">이름</label>
                <input type="text" id="name" name="name" placeholder="이름" class="input" maxlength="40" required />
              </div>

              <!-- 생년월일 -->
              <div class="form_item calendar" id="divBirthday">
                <label for="birthdayInput">생년월일</label>
                <input type="date" id="birthdayInput" class="input" required />
              </div>

              <!-- 통신사 -->
              <div class="form_item telecom" id="divTelecom">
                <label for="telecomSelect">통신사</label>
                <select id="telecomSelect" class="input" required>
                  <option value="">통신사 선택</option>
                  <option value="SKT">SKT</option>
                  <option value="SKT_MVNO">SKT 알뜰폰</option>
                  <option value="KT">KT</option>
                  <option value="KT_MVNO">KT 알뜰폰</option>
                  <option value="LGU">LG U+</option>
                  <option value="LGU_MVNO">LG U+ 알뜰폰</option>
                </select>
              </div>

              <!-- 성별 -->
              <div class="form_item adult" id="divIdentityGender">
                <fieldset style="border:0; padding:0; margin:0;">
                  <legend>성별</legend>
                  <ul class="adult_list" id="listIdentityGender1" style="list-style:none; padding:0; display:flex; gap:12px;">
                    <li class="radio item">
                      <input type="radio" id="identityGender1" name="identityGender" value="M" required />
                      <label for="identityGender1">남자</label>
                    </li>
                    <li class="radio item">
                      <input type="radio" id="identityGender2" name="identityGender" value="F" />
                      <label for="identityGender2">여자</label>
                    </li>
                  </ul>
                </fieldset>
              </div>

              <!-- 내/외국인 -->
              <div class="form_item nationality" id="divNationality">
                <fieldset style="border:0; padding:0; margin:0;">
                  <legend>내/외국인</legend>
                  <ul class="adult_list" id="listIdentityGender2" style="list-style:none; padding:0; display:flex; gap:12px;">
                    <li class="radio item">
                      <input type="radio" id="foreigner1" name="foreigner" value="K" required />
                      <label for="foreigner1">내국인</label>
                    </li>
                    <li class="radio item">
                      <input type="radio" id="foreigner2" name="foreigner" value="F" />
                      <label for="foreigner2">외국인</label>
                    </li>
                  </ul>
                </fieldset>
              </div>
            </div>

            <div class="form_list" id="divPhoneNoOuter">
              <!-- 휴대전화 -->
              <div class="form_item phone" id="divPhoneNo">
                <label for="phoneNo">휴대전화번호</label>
                <input type="tel" id="phoneNo" name="phoneNo" class="input" placeholder="예: 01012345678"
                       maxlength="16" inputmode="numeric" pattern="^01[0-9]{8,9}$" required />
              </div>

              <!-- 자기소개 (textarea) -->
              <div class="form_item intro" id="divIntro">
                <label for="intro">자기소개</label>
                <textarea id="intro" name="intro" class="input" rows="4" placeholder="간단한 자기소개를 입력해주세요"></textarea>
              </div>

              <!-- 학력 (select) -->
              <div class="form_item edu" id="divEdu">
                <label for="education">학력</label>
                <select id="education" name="education" class="input" required>
                  <option value="">선택하세요</option>
                  <option value="elementary">초등</option>
                  <option value="middle">중등</option>
                  <option value="high">고등</option>
                  <option value="university">대학 </option>
                </select>
              </div>
            </div>

            <div>
              <button type="submit" class="btn_submit">가입하기</button>
            </div>
          </div>
        </div>
      </form>
      <!-- 폼 끝 -->
    </div>
  </div>

  <script>
    // 비밀번호 보기/숨기기
    document.getElementById('btnTogglePw').addEventListener('click', function () {
      const pw = document.getElementById('pswd1');
      pw.type = (pw.type === 'password') ? 'text' : 'password';
      this.textContent = (pw.type === 'password') ? '보기' : '숨기기';
    });

    // 비밀번호 보안 레벨 간단 표시
    document.getElementById('pswd1').addEventListener('input', function () {
      const val = this.value;
      const level = document.getElementById('secureLevel');
      let score = 0;
      if (val.length >= 8) score++;
      if (/[A-Z]/.test(val)) score++;
      if (/[a-z]/.test(val)) score++;
      if (/\d/.test(val)) score++;
      if (/[^A-Za-z0-9]/.test(val)) score++;

      const text = ['약함', '보통', '좋음', '강함', '매우 강함'];
      level.textContent = text[Math.min(score-1, text.length-1)] || '';
    });

    // 생년월일/통신사 hidden과 동기화
    const birthdayInput = document.getElementById('birthdayInput');
    const birthdayHidden = document.getElementById('birthday');
    birthdayInput.addEventListener('change', () => {
      birthdayHidden.value = birthdayInput.value; // yyyy-mm-dd
    });

    const telecomSelect = document.getElementById('telecomSelect');
    const telecomHidden = document.getElementById('telecom');
    telecomSelect.addEventListener('change', () => {
      telecomHidden.value = telecomSelect.value;
    });

    // 전송 전 기본 검증 + hidden 보정
    document.getElementById('join_form').addEventListener('submit', function (e) {
      // hidden 동기화 누락 방지
      birthdayHidden.value = birthdayInput.value;
      telecomHidden.value = telecomSelect.value;

      if (!this.checkValidity()) {
        e.preventDefault();
        alert('필수 항목을 확인해 주세요.');
      }
    });
  </script>
</body>
</html>
